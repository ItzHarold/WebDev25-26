<!-- Register.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <!-- Dark mode toggle -->
    <button id="darkModeBtn">ðŸŒ™ Dark Mode</button>
    <script src="darkmode.js" defer></script>
<div id="topbar"></div>

<section class="hero hero-auth">
    <div class="hero-content">
        <h1>Register</h1>
        <p>Create your account</p>
    </div>
</section>

<main class="auth-wrap">
    <section class="auth-grid" aria-labelledby="register-title">
        <div class="form-card">
            <h2 id="register-title" class="form-title">Join the platform</h2>
            <p class="form-subtitle">Set up your account to manage tournaments and teams.</p>

            <form id="register-form" class="form" action="#" method="post" novalidate>
                <div class="form-row">
                    <label class="label" for="full-name">Full name</label>
                    <input id="full-name" class="input" name="fullName" type="text" autocomplete="name" required />
                </div>

                <div class="form-row">
                    <label class="label" for="reg-email">Email</label>
                    <input id="reg-email" class="input" name="email" type="email" autocomplete="email" required />
                </div>

                <div class="form-row">
                    <label class="label" for="reg-password">Password</label>
                    <div class="input-with-action">
                        <input id="reg-password" class="input" name="password" type="password" autocomplete="new-password" minlength="6" required />
                        <button type="button" class="btn small" id="toggle-reg-pw" aria-controls="reg-password" aria-pressed="false">Show</button>
                    </div>
                    <div class="helper">Min 6 characters</div>
                </div>

                <div class="form-row">
                    <label class="label" for="confirm-password">Confirm password</label>
                    <input id="confirm-password" class="input" name="confirmPassword" type="password" autocomplete="new-password" minlength="6" required />
                    <div class="error-text" id="confirm-error" hidden>Passwords do not match.</div>
                </div>

                <div class="form-inline">
                    <label class="checkbox" for="agree">
                        <input type="checkbox" id="agree" required />
                        <span>I agree to the Terms &amp; Privacy</span>
                    </label>
                </div>

                <div class="form-footer">
                    <button class="btn" type="submit">Create account</button>
                    <span class="helper">Already have an account? <a class="link" href="Login.html">Sign in</a></span>
                </div>
            </form>
        </div>

        <aside class="auth-aside">
            <img src="pictures/defaulticon.jpg" alt="Get started" />
            <div class="location"><strong>Get started</strong><br />Rotterdam, Netherlands</div>
        </aside>
    </section>
</main>

<script>
    (function () {
        fetch('topbar.html')
            .then(function (r) { return r.text(); })
            .then(function (html) { document.getElementById('topbar').innerHTML = html; })
            .catch(function () {
                document.getElementById('topbar').innerHTML =
                    '<nav class="topbar"><div class="logo"><a href="Home.html"><img src="pictures/defaulticon.jpg" alt="Logo"></a></div>'
                    + '<div class="nav-links"><a href="Home.html">Home</a><a href="Dashboard.html">Dashboard</a><a href="About.html">About</a><a href="Contact.html">Contact</a></div>'
                    + '<div class="welcome">Welcome USER</div></nav>';
            });

        var toggleBtn = document.getElementById('toggle-reg-pw');
        var pwInput = document.getElementById('reg-password');
        if (toggleBtn && pwInput) {
            toggleBtn.addEventListener('click', function () {
                var showing = pwInput.type === 'text';
                pwInput.type = showing ? 'password' : 'text';
                toggleBtn.textContent = showing ? 'Show' : 'Hide';
                toggleBtn.setAttribute('aria-pressed', String(!showing));
            });
        }

        document.getElementById('register-form').addEventListener('submit', function (e) {
            var pw = document.getElementById('reg-password').value.trim();
            var cpw = document.getElementById('confirm-password').value.trim();
            var err = document.getElementById('confirm-error');

            if (pw !== cpw) {
                e.preventDefault();
                err.hidden = false;
                document.getElementById('confirm-password').focus();
                return;
            }
            err.hidden = true;

            e.preventDefault();
            window.location.href = 'Login.html';
        });
    })();
</script>
</body>

</html>
