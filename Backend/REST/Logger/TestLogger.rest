@baseUrl = http://localhost:5079
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJqb2huQGFkbWluLmNvbSIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiZXhwIjoxNzY1OTcwMzIxLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjUwNzkiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjUwNzkifQ.yGXUQZ0NeeMcgnlEjdNTd75g528uoIRGIIGMsn-O4mc

### Step 1: Login as Admin to get JWT token
# After running this, copy the "token" value and replace YOUR_TOKEN_HERE above
POST {{baseUrl}}/Auth/login
Content-Type: application/json

{
  "email": "john@admin.com",
  "password": "1234"
}

###

### Step 2: Create a new Event (this will create a log entry)
POST {{baseUrl}}/Event
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Test Event for Logger",
  "location": "Test Location",
  "date": "2025-12-25T18:00:00",
  "description": "Testing automatic logger",
  "detail": "This event should create a log entry",
  "status": "Upcoming",
  "imageUrl": null
}

###

### Step 3: Check all logs (should see the CREATE log)
GET {{baseUrl}}/Logger
Authorization: Bearer {{token}}
Accept: application/json

###

### Step 4: Update the Event (this will create another log entry)
# Replace {id} with the ID from Step 2 response
PUT {{baseUrl}}/Event/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Test Event for Logger - UPDATED",
  "location": "Updated Location",
  "date": "2025-12-26T18:00:00",
  "description": "Testing automatic logger UPDATE",
  "detail": "This update should create a log entry",
  "status": "Updated",
  "imageUrl": null
}

###

### Step 5: Check logs again (should see both CREATE and UPDATE)
GET {{baseUrl}}/Logger
Authorization: Bearer {{token}}
Accept: application/json

###

### Step 6: Delete the Event (this will create a DELETE log)
# Replace {id} with the ID from Step 2 response
DELETE {{baseUrl}}/Event/1
Authorization: Bearer {{token}}

###

### Step 7: Check logs final time (should see CREATE, UPDATE, and DELETE)
GET {{baseUrl}}/Logger
Authorization: Bearer {{token}}
Accept: application/json

###

### Extra: Get logs by entity type (only Event logs)
GET {{baseUrl}}/Logger/entity/Event
Authorization: Bearer {{token}}
Accept: application/json

###

### Extra: Get all events to verify deletion
GET {{baseUrl}}/Event
Authorization: Bearer {{token}}
Accept: application/json
